<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Loom — Welcome</title>
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data: blob:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline';" />
  <style>
    :root{
      --bg1:#0b1220; --bg2:#111827; --card:#101826cc; --card-border:#2a3757;
      --text:#e6eaf2; --muted:#9aa6bd; --accent:#7aa2ff;
    }
    html,body{height:100%}
    body{
      margin:0; font-family: Inter, system-ui, Arial, sans-serif; color:var(--text);
      background:
        radial-gradient(1100px 700px at -10% -10%, #1f2a44 0%, transparent 60%),
        radial-gradient(900px 600px at 120% 0%, #2a3a66 0%, transparent 55%),
        linear-gradient(160deg, var(--bg2) 0%, var(--bg1) 60%);
      background-attachment: fixed;
      display:grid; place-items:center;
    }
    .card{
      width:min(560px, 92vw);
      padding:28px 28px 22px;
      background:var(--card);
      border:1px solid var(--card-border);
      border-radius:18px;
      box-shadow:0 20px 60px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.04);
      text-align:center;
      animation:fadeIn .35s ease both;
    }
    @keyframes fadeIn{from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:none}}
    .logo{height:44px; margin-bottom:10px}
    h1{
      margin:6px 0 6px; font-size:28px; line-height:1.2; letter-spacing:.3px;
      background:linear-gradient(90deg,#b3c7ff,#7aa2ff 35%,#b3e1ff 80%);
      -webkit-background-clip:text; background-clip:text; color:transparent;
    }
    p{margin:0 0 18px; color:var(--muted)}
    .actions{display:flex; gap:10px; justify-content:center; flex-wrap:wrap}
    button{
      padding:10px 16px; border-radius:12px; cursor:pointer;
      border:1px solid #3e57a8;
      background:linear-gradient(180deg,#1d2a49,#15203b);
      color:#e6ecff; box-shadow:0 6px 18px rgba(0,0,0,.35);
      transition:transform .06s ease, box-shadow .2s ease, border-color .2s ease;
    }
    button:hover{ transform:translateY(-1px); box-shadow:0 8px 22px rgba(0,0,0,.45); border-color:#5a79d6 }
    label{ display:block; margin-top:10px; font-size:12px; color:var(--muted) }
    .tips{ margin-top:14px; font-size:12px; color:#aeb8d0 }
    .kbd{ padding:.5px 6px; border:1px solid #3a4f83; border-radius:6px; font-size:12px }
  </style>
</head>
<body>
  <div class="card">
    <img class="logo" src="../build/icon.png" alt="Loom" />
    <h1>Welcome to Loom</h1>
    <p>Weave raw data into clear signals. Start by uploading a ZIP of your repo artifacts.</p>
    <div class="actions">
      <button id="start">Get started →</button>
    </div>
    <label><input type="checkbox" id="skip"> Dont show this again</label>
    <div class="tips">Tip: You can always reopen this screen from Help → Welcome or press <span class="kbd">F1</span>.</div>
  </div>

  <script>
    // auto skip if user asked not to see again
    if (localStorage.getItem("loomWelcomeSeen") === "true") {
      window.loom?.startApp?.();
    }
    document.getElementById("start").addEventListener("click", () => {
      if (document.getElementById("skip").checked) {
        localStorage.setItem("loomWelcomeSeen", "true");
      }
      window.loom?.startApp?.();
    });

    // Optional: press Enter to start
    document.addEventListener("keydown", (e) => {
      if (e.key === "Enter" || e.key === " ") {
        document.getElementById("start").click();
      }
    });
  </script>
</body>
</html>
